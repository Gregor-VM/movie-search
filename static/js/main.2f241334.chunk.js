(this["webpackJsonpmovie-search"]=this["webpackJsonpmovie-search"]||[]).push([[0],{22:function(e,t,c){},44:function(e,t,c){"use strict";c.r(t);var n=c(1),r=c.n(n),s=c(17),a=c.n(s),i=(c(22),c(23),c(4)),l=c.n(i),o=c(5),j=c(3),d=Object(n.createContext)(),b=c(0);function u(){return Object(b.jsx)("div",{className:"d-flex justify-content-center",children:Object(b.jsx)("div",{className:"spinner-border",role:"status",children:Object(b.jsx)("span",{className:"sr-only",children:"Loading..."})})})}var O=function(e){var t=e.movie,c=t.Title,r=t.Poster,s=t.Year,a=t.imdbID,i=Object(n.useContext)(d),l=i.setMovie,o=i.selectedMovie;return Object(b.jsx)("div",{className:"card shadow-sm my-3 ".concat(o===a&&"bg-light boder border-primary"),onClick:function(){return l(a)},children:Object(b.jsx)("div",{className:"card-body p-0",children:Object(b.jsxs)("div",{className:"row",children:[Object(b.jsx)("div",{className:"col-4",children:Object(b.jsx)("img",{src:r,className:"img-fluid rounded-left",alt:c})}),Object(b.jsxs)("div",{className:"col-8 p-2",children:[Object(b.jsx)("h4",{children:c}),Object(b.jsx)("small",{className:"text-muted",children:s})]})]})})})};function m(e){var t=e.isSearching,c=Object(n.useContext)(d).movies;return t?t?Object(b.jsx)(u,{}):Object(b.jsx)(b.Fragment,{}):c?c.map((function(e){return Object(b.jsx)(O,{movie:e},e.imdbID)})):"Not movies found"}var x=function(){var e=Object(n.useState)(""),t=Object(j.a)(e,2),c=t[0],r=t[1],s=Object(n.useState)(!1),a=Object(j.a)(s,2),i=a[0],O=a[1],x=Object(n.useState)(!0),h=Object(j.a)(x,2),f=h[0],v=h[1],p=Object(n.useState)(""),g=Object(j.a)(p,2),N=g[0],y=g[1],w=Object(n.useRef)(),S=Object(n.useContext)(d).getMovies,M=Object(n.useCallback)((function(){v(!1)}),[v]),k=function(){var e=Object(o.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),""!==c){e.next=3;break}return e.abrupt("return",y("Empty Input"));case 3:return O(!0),e.prev=4,e.next=7,S(c);case 7:e.sent?M():y("Movie not found"),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(4),console.error(e.t0);case 14:O(!1);case 15:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(t){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){return w.current.focus()}),[]),Object(b.jsxs)("div",{className:f?"col-lg-12 mt-5":"col-lg-4",children:[f&&Object(b.jsx)("h1",{className:"display-1 text-center mb-3",children:"Movie Search"}),Object(b.jsxs)("form",{className:"form-group d-flex mb-lg-1 mb-3",onSubmit:k,children:[Object(b.jsx)("input",{ref:w,placeholder:"Search a movie...",type:"search",className:"form-control rounded-0 shadow-none",value:c,onChange:function(e){return r(e.target.value)}}),Object(b.jsx)("input",{type:"submit",className:"btn btn-primary rounded-0 border-0 shadow-none",value:"Search"})]}),!f&&Object(b.jsx)("div",{className:"scroll",children:Object(b.jsx)(m,{isSearching:i})}),f&&i&&Object(b.jsx)(u,{}),f&&N&&!i&&Object(b.jsx)("div",{className:"alert alert-danger",children:N})]})},h=c(7),f=c.n(h);var v=function(){var e=Object(n.useState)({}),t=Object(j.a)(e,2),c=t[0],r=t[1],s=Object(n.useState)(!1),a=Object(j.a)(s,2),i=a[0],O=a[1],m=Object(n.useState)(0),x=Object(j.a)(m,2),h=x[0],v=x[1],p=Object(n.useContext)(d).selectedMovie,g=Object(n.useRef)();Object(n.useEffect)((function(){g.current&&g.current.scrollIntoView({behavior:"smooth",block:"end"})}),[p]),Object(n.useEffect)((function(){setTimeout((function(){return v(Math.round(c.imdbRating/10*100),100)}))}),[c]);var N=Object(n.useCallback)(function(){var e=Object(o.a)(l.a.mark((function e(t){var c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!p){e.next=6;break}return e.next=3,f.a.get("https://www.omdbapi.com/?apikey=66ce2ccf&i=".concat(t));case 3:c=e.sent,r(c.data),O(!1);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[p]);return Object(n.useEffect)((function(){p&&O(!0),N(p)}),[p,N]),i?Object(b.jsx)("div",{className:"col-lg-8 center-class d-flex justify-content-center w-100",children:Object(b.jsx)(u,{})}):void 0!==(null===c||void 0===c?void 0:c.Title)?Object(b.jsx)("div",{className:"col-lg-8 center-class",ref:g,children:Object(b.jsx)("div",{className:"card shadow mt-5 mt-md-0",children:Object(b.jsxs)("div",{className:"card-body d-flex p-0",children:[Object(b.jsx)("img",{src:c.Poster,alt:c.Title,className:"rounded-left d-lg-inline-block d-none"}),Object(b.jsxs)("div",{className:"d-flex flex-column p-3",children:[Object(b.jsx)("h4",{className:"border-bottom pb-2 border-info text-center",children:c.Title}),Object(b.jsx)("img",{className:"d-block d-lg-none mx-auto my-1",src:c.Poster,alt:c.Title,width:200,height:200}),Object(b.jsx)("p",{children:c.Plot}),Object(b.jsxs)("small",{className:"d-flex flex-column",children:[Object(b.jsxs)("p",{children:[Object(b.jsx)("b",{className:"text-info",children:"Released: "}),c.Released]}),Object(b.jsxs)("p",{children:[Object(b.jsx)("b",{className:"text-info",children:"Director: "}),c.Director]})]}),Object(b.jsxs)("p",{children:[Object(b.jsx)("b",{children:"Actores: "}),c.Actors.split(", ").map((function(e){return Object(b.jsx)("span",{class:"badge badge-info mr-1",children:e})}))]}),Object(b.jsxs)("p",{children:[Object(b.jsx)("b",{children:"Genre: "}),c.Actors.split(", ").map((function(e){return Object(b.jsx)("span",{class:"badge badge-info mr-1",children:e})}))]}),Object(b.jsx)("p",{class:"text-muted",children:Object(b.jsx)("b",{children:"IMDB - Rating:"})}),Object(b.jsx)("div",{className:"progress",children:Object(b.jsx)("div",{className:"progress-bar",role:"progressbar",style:{width:h+"%",transitionDuration:1,transitionProperty:"all"},"aria-valuenow":"25","aria-valuemin":"0","aria-valuemax":"100",children:"".concat(h,"%")})})]})]})})}):Object(b.jsx)(b.Fragment,{})};var p=function(e){var t=e.children;return Object(b.jsx)(b.Fragment,{children:Object(b.jsx)("div",{className:"container",children:Object(b.jsx)("div",{className:"row mt-3",children:t})})})},g=c(6);var N=function(e,t){var c=t.type,n=t.payload;switch(c){case"GET_MOVIES":return{movies:n,seletedMovie:null};case"SET_MOVIE":return Object(g.a)(Object(g.a)({},e),{},{selectedMovie:n});default:return e}};var y=function(e){var t=e.children,c=Object(n.useReducer)(N,{movies:[],selectedMovie:null}),r=Object(j.a)(c,2),s=r[0],a=r[1],i=function(){var e=Object(o.a)(l.a.mark((function e(t){var c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.get("https://www.omdbapi.com/?apikey=66ce2ccf&s=".concat(t));case 2:return c=e.sent,a({type:"GET_MOVIES",payload:c.data.Search}),e.abrupt("return",c.data.Search);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(b.jsx)(d.Provider,{value:Object(g.a)(Object(g.a)({},s),{},{getMovies:i,setMovie:function(e){a({type:"SET_MOVIE",payload:e})}}),children:t})};var w=function(){return Object(b.jsx)(b.Fragment,{children:Object(b.jsx)(y,{children:Object(b.jsxs)(p,{children:[Object(b.jsx)(x,{}),Object(b.jsx)(v,{})]})})})},S=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,45)).then((function(t){var c=t.getCLS,n=t.getFID,r=t.getFCP,s=t.getLCP,a=t.getTTFB;c(e),n(e),r(e),s(e),a(e)}))};a.a.render(Object(b.jsx)(r.a.StrictMode,{children:Object(b.jsx)(w,{})}),document.getElementById("root")),S()}},[[44,1,2]]]);
//# sourceMappingURL=main.2f241334.chunk.js.map